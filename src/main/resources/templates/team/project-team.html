<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
   <div th:replace="fragments/headerfiles :: headerfiles(pageTitle='Project & Team')"></div>
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div class="container-scroller">
      <div class="container-fluid page-body-wrapper">
        <!-- partial:partials/_sidebar.html -->
		<div th:replace="fragments/_sidebar :: _sidebar"></div>
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <!-- Page Title Header Starts-->

            <!-- Page Title Header Ends-->
            <div class="row">
              
            </div>
            <div class="row">
              <div class="col-md-6 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title mb-0">Today in Leave</h4>
                    <div class="d-flex flex-column flex-lg-row">
                      <div class="table-responsive">
                          <table class="table table-striped table-hover">
                            <thead>
                              <tr>
                                <th>Member</th>
                                <th>Type</th>
                                <th>Date</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr th:each="leave : ${currentDateLeave}">
								<td th:text="${leave.teamMember.fullName}"></td>
                                <td th:text="${leave.leaveType}"></td>
                                <td th:text="${#dates.format(leave.leaveDate, 'dd-MMM-yyyy')}"></td>
                              </tr>                             
                            </tbody>
                          </table>
                        </div>
                    </div>                    
                  </div>
                </div>
              </div>
              <div class="col-md-6 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body d-flex flex-column">
                    <div class="wrapper">
                      <h4 class="card-title mb-0">Upcomming Leave</h4>
                      <div class="table-responsive">
                          <table class="table table-striped table-hover">
                            <thead>
                              <tr>
                                <th>Member</th>
                                <th>Type</th>
                                <th>Date</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr th:each="leave : ${upComingLeave}">
								<!--<td th:text="${leaveStat.index}"></td>  -->
								<td th:text="${leave.teamMember.fullName}"></td>
                                <td th:text="${leave.leaveType}"></td>
                                <td th:text="${#dates.format(leave.leaveDate, 'dd-MMM-yyyy')}"></td>
                              </tr>                             
                            </tbody>
                          </table>
                        </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-8">
                <div class="row">

                  
                  <div class="col-md-12 grid-margin">
                    <div class="card">
                      <div class="card-body">
                        <div class="d-flex justify-content-between">
                          <h4 class="card-title mb-0">Team</h4>
                          <a href="/all-active-team-member"><small>Show All</small></a>
                        </div>
                        <div class="table-responsive">
                          <table class="table table-striped table-hover">
                            <thead>
                              <tr>
                                <th>Name</th>
                                <th>Phone No</th>
                                <th>Emp ID</th>
                                <th>Cust ID</th>
                                <th>Action</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr th:each="member : ${allActiveTeamMemeber}">
                                <td th:text="${member.fullName}"></td>
                                <td th:text="${member.phoneNo}"></td>
                                <td th:text="${member.organizationEmpId}"></td>
                                <td th:text="${member.customerEmpId}"></td>
                                <td >
									<a th:href="@{'member-leave-history/'+ ${member.teamMemberId}}" ><i class="fa fa-times-circle fa-lg"></i></a>&nbsp;
									<a th:href="@{'team-member-edit/'+ ${member.teamMemberId}}" ><i class="fa fa-edit fa-lg"></i></a>&nbsp;
                          <a th:href="@{'member-appraisal-detail/'+ ${member.teamMemberId}+'/'+${year}}" role="button"><i class="fa fa-info fa-lg"></i></a>
								</td>
                              </tr>                             
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                   <div class="col-md-12 grid-margin">
                    <div class="card">
                      <div class="card-body">
                        <div class="d-flex justify-content-between">
                          <h4 class="card-title mb-0">Applications</h4>
                          <a href="/all-applications"><small>Show All</small></a>
                        </div>
                        <div class="table-responsive">
                          <table class="table table-striped table-hover">
                            <thead>
                              <tr>
                                <th>Full Name</th>
                                <th>Short Name</th>
                                <th>Business Stream</th>
                                <th>Action</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr th:each="apps : ${allApplications}">
                                <td th:text="${apps.applicationName}"></td>
                                <td th:text="${apps.applicaitonAbbreviation}"></td>
                                <td th:text="${apps.businessStream}"></td>
                                <td >
									<a th:href="@{'member-leave-history/'+ ${apps.id}}" ><i class="fa fa-times-circle fa-lg"></i></a>&nbsp;
									<a th:href="@{'application-edit/'+ ${apps.id}}" ><i class="fa fa-edit fa-lg"></i></a>&nbsp;
                          <a th:href="@{'member-appraisal-detail/'+ ${apps.id}+'/'+${year}}" role="button"><i class="fa fa-info fa-lg"></i></a>
								</td>
                              </tr>                             
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6 grid-margin stretch-card">
                    <div class="card">
                      <div class="card-body">
                        <div class="row">
                         
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6 grid-margin stretch-card average-price-card">
                    <div class="card text-white">
                      <div class="card-body">
                        
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="row">
                  <div class="col-md-12 grid-margin">
                    <div class="card">
                   <div class="card-body">
					   <div class="d-flex justify-content-between">
                    <h4 class="card-title">Submit Leave</h4>
                    <a href="/member-all-leave-history"><small>Show All Leave</small></a>
                    </div>
                    <form  th:action="@{/save-team-member-leave}" method="post" th:object="${teamMemberLeave}">
                      <div class="form-group">
                        <label for="exampleInputName1">Name</label>
                        <select class="form-control form-control-lg" id="teamMemberDDL" th:field="*{teamMember}">
                        <option value="">-Select-</option>
                        <option th:each="p : ${teamMemberNameIDMap}" th:value="${p.key}" th:text="${p.value}" />
                      </select>
                      </div>
                      <div class="form-group">
                        <label for="exampleInputEmail3">Leave Type</label>
                        <input type="text" class="form-control" id="leaveType" th:field="*{leaveType}" placeholder="Leave Type">
                      </div>
                      <div class="form-group">
                        <label for="exampleInputPassword4">Date</label>
                        <input type="text" class="form-control" th:field="*{leaveDate}" id="leaveDate" placeholder="yyyy-mm-dd">
                      </div>                     
                     
                      <div class="form-group">
                        <label for="exampleTextarea1">Comment</label>
                        <textarea class="form-control" id="comment" th:field="*{comment}" rows="2"></textarea>
                      </div>
                      <button class="btn btn-light">Cancel</button>
                      <button type="submit" class="btn btn-success mr-2">Submit</button>
                      
                    </form>
                  </div>
                    </div>
                  </div>
                   <div class="col-md-12 grid-margin">
                    <div class="card">
                      <div class="card-body">
                        <h4 class="card-title mb-0">Top Performer</h4>
                        <div class="d-flex mt-3 py-2 border-bottom">
                          <div class="wrapper ml-2">
                          </div>
                        </div>
                        <div class="d-flex py-2 border-bottom">
                          <span class="img-sm rounded-circle bg-warning text-white text-avatar">CR</span>
                          <div class="wrapper ml-2">
                            <p class="mb-n1 font-weight-semibold">Target</p>
                            <small>162543</small>
                          </div>
                          <small class="text-muted ml-auto">4 Hours ago</small>
                        </div>                       
                         <div class="d-flex py-2 border-bottom">
                          <span class="img-sm rounded-circle bg-success text-white text-avatar">Tool</span>
                          <div class="wrapper ml-2">
                            <p class="mb-n1 font-weight-semibold">Target</p>
                            <small>162543</small>
                          </div>
                          <small class="text-muted ml-auto">4 Hours ago</small>
                        </div> 
                        <div class="d-flex py-2 border-bottom">
                          <span class="img-sm rounded-circle bg-danger text-white text-avatar">KA</span>
                          <div class="wrapper ml-2">
                            <p class="mb-n1 font-weight-semibold">Target</p>
                            <small>162543</small>
                          </div>
                          <small class="text-muted ml-auto">4 Hours ago</small>
                        </div> 
                        <div class="d-flex py-2 border-bottom">
                          <span class="img-sm rounded-circle bg-info text-white text-avatar">RCA</span>
                          <div class="wrapper ml-2">
                            <p class="mb-n1 font-weight-semibold">Target</p>
                            <small>162543</small>
                          </div>
                          <small class="text-muted ml-auto">4 Hours ago</small>
                        </div> 
                      </div>
                    </div>
                  </div>
                  <div class="col-md-12 grid-margin">
                    <div class="card">
                      <div class="card-body">
                        
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">

                  </div>
                </div>
              </div>
              <div class="col-md-4 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">

                  </div>
                </div>
              </div>
              <div class="col-md-4 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">

                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- content-wrapper ends -->
          <!-- partial:partials/_footer.html -->
          <div th:replace="fragments/footer :: footer"></div>
          <script type="text/javascript">
     $( function() {
       
        //$( "#leaveDate" ).datepicker({ dateFormat: 'yy-mm-dd' });
         $( "#leaveDate" ).datepicker();
        $( "#leaveDate" ).datepicker( "option", "dateFormat", "yy-mm-dd" );
      } ); 
        </script>
        </div>
      </div>
    </div>
  </body>
</html>